(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1000:function(e,t,a){e.exports=a.p+"images/down_arrow.8c7952f6.svg"},1013:function(e,t,a){"use strict";a.r(t);var n=a(938),r=a(1),i=a.n(r),c=(a(966),a(997)),o=a.n(c),s=a(967),l=a.n(s),d=a(114),m=a(115),u=a(118),h=a(116),g=a(117),v=a(131),f=a(152),p=a(8),b=a.n(p),N=a(267),y=a(151),w=a.n(y),E=a(119),O=Object(E.a)();var I={getPrimaryNavigations:function(){return function(e){e({type:"FETCH_PRIMARY_NAVIGATIONS_LIST"}),w.a.get("/api/v1/primaryNavigationMenu?_format=json",O).then(function(t){e({type:"FETCH_PRIMARY_NAVIGATIONS_LIST_SUCCESS",payload:t.data})}).catch(function(t){e({type:"FETCH_PRIMARY_NAVIGATIONS_LIST_FAILURE",payload:t.response}),e({type:"ADD_ERROR",payload:t})})}}},k=(a(998),a(961)),j=a(264),S=a(82),T=a(999),P=a.n(T),_=a(1e3),x=a.n(_),A=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).handleOrientation=function(){var t=Object(v.a)(Object(v.a)(e));window.addEventListener("resize",function(){t.setState({width:window.innerWidth})})},e.state={items:[],show:!0,width:window.innerWidth,current:"",menuId:0,menuTree:[],fetched:!1,open:!1},e.renderPrimaryNavigation=e.renderPrimaryNavigation.bind(Object(v.a)(Object(v.a)(e))),e.getMenuTemplate=e.getMenuTemplate.bind(Object(v.a)(Object(v.a)(e))),e.handleOrientation=e.handleOrientation.bind(Object(v.a)(Object(v.a)(e))),e.renderLoader=e.renderLoader.bind(Object(v.a)(Object(v.a)(e))),e.getItemTemplate=e.getItemTemplate.bind(Object(v.a)(Object(v.a)(e))),e.handleToggle=e.handleToggle.bind(Object(v.a)(Object(v.a)(e))),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.getPrimaryNavigations(),this.handleOrientation(),this.setState({token:E.f})}},{key:"handleToggle",value:function(e){e.preventDefault();var t=Number(e.target.dataset.id);t===this.state.menuId?this.setState({menuId:0}):this.setState({menuId:t})}},{key:"componentWillReceiveProps",value:function(e){var t=e.fetchedPrimaryNavigations,a=e.primaryNavigations,n=e.fetchingPrimaryNavigations;if(t&&0!==a.length&&this.state.fetched){this.setState({fetched:!1});var r=JSON.parse(JSON.stringify(a)),i=r.filter(function(e){return 0===e.parent});r.forEach(function(e,t){i.forEach(function(e,a){e.Id===r[t].parent&&(Object.prototype.hasOwnProperty.call(e,"child")?i[a].child.push(r[t]):i[a].child=[r[t]])})}),this.setState({menuTree:i})}else n&&this.setState({fetched:!0})}},{key:"renderPrimaryNavigation",value:function(){var e=this.state.menuTree;return i.a.createElement("div",{className:b()("main-nav",{"d-none":!this.props.show&&this.state.width<=768})},i.a.createElement("nav",{role:"navigation",className:"navbar navbar-light navbar-expand-xl justify-content-end"},this.getMenuTemplate(e,0)))}},{key:"getItemTemplate",value:function(e){return i.a.createElement("li",{key:2*e.Id,className:"nav-item"},i.a.createElement("a",{href:e.href,"data-tid":e.targetId,"data-id":e.Id,onClick:e.child?this.handleToggle:function(){return!0},className:b()({"active-link":e.href===window.location.pathname||0===window.location.pathname.indexOf("".concat(e.href,"/"))})},e.name),e.child&&i.a.createElement("span",{className:"caret","data-id":e.Id,onClick:this.handleToggle,style:{backgroundImage:this.state.menuId===e.Id?"url(".concat(P.a,")"):"url(".concat(x.a,")")}},"Down"),e.child&&this.getMenuTemplate(e.child,e.Id))}},{key:"getMenuTemplate",value:function(e,t){var a=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("ul",{key:t,"data-id":t,className:b()("navbar-nav",{"has-child":0!==t},{open:this.state.menuId===t})},e.map(function(e,t){var n="#";switch(e.content){case"home":n="/home";break;case"scentcourses":n="".concat(e.targetId?"/course/".concat(e.targetId):"/courses");break;case"news":n="/news";break;case"products":n="/products";break;case"ingredients":n="/ingredients";break;case"videos":n="/videos";break;case"tools":n="/tools";break;case"brand":n="".concat(e.targetId?"/brand/".concat(e.targetId):"/brand");break;default:n="#"}return e.href=n,"external"===e.type&&(e.href=e.URL),a.getItemTemplate(e)}),this.state.token&&void 0!==this.state.token&&this.state.width<=768&&0===t&&i.a.createElement("li",{key:"logout",className:"nav-item"},i.a.createElement(N.b,{to:S.h},j.D))))}},{key:"renderLoader",value:function(){for(var e=[],t=0;t<4;t++)e.push(i.a.createElement("li",{key:t,className:"nav-item mw-200"},i.a.createElement(k.a,{height:100,width:400})));return i.a.createElement("div",{className:b()("main-nav col-12",{"d-none":!this.props.show&&this.state.width<=768})},i.a.createElement("nav",{role:"navigation",className:"navbar navbar-light navbar-expand-xl justify-content-end"},i.a.createElement("div",{className:"sitenav"},i.a.createElement("ul",{className:"navbar-nav"},e))))}},{key:"render",value:function(){var e=this.props.fetchingPrimaryNavigations;return i.a.createElement(i.a.Fragment,null,e?this.renderLoader():this.renderPrimaryNavigation())}}]),t}(r.Component);var C=Object(f.b)(function(e){var t=e.primaryNavigations;return{fetchingPrimaryNavigations:t.fetchingPrimaryNavigations,fetchedPrimaryNavigations:t.fetchedPrimaryNavigations,primaryNavigations:t.primaryNavigations}},function(e){return{getPrimaryNavigations:function(){return e(I.getPrimaryNavigations())}}})(A),R=a(968),L={backgroundImage:"url(".concat(o.a,")")};t.default=function(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),c=a[0],o=a[1];if(Object(E.b)())return null;if(Object(E.c)()){var s,d;if(localStorage.getItem("user")){d=JSON.parse(localStorage.getItem("user")).uid;var m=JSON.parse(localStorage.getItem("user")).firstName;m&&"/home"===window.location.pathname&&(s=m)}return i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{className:"col-12 top-header logged-in"},i.a.createElement("div",{className:"logo"},i.a.createElement("a",{href:"/home"},i.a.createElement("img",{src:l.a,alt:"Aramis and Designer Fragrances"}))),0!==d&&i.a.createElement("div",{className:"user-icon",onClick:function(){var e=JSON.parse(localStorage.getItem("user")).uid;e&&(window.location="/user/".concat(e))}}),s&&i.a.createElement("p",{className:"welcome-msg"},"Welcome, ",s),i.a.createElement("div",{className:"toggle-bar",onClick:function(){return o(!c)}},i.a.createElement("div",{className:"icon",style:L}))),i.a.createElement(C,{show:c}))}return i.a.createElement(R.a,null)}},961:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=a(928),c=function(e){return r.a.createElement(i.a,{height:22,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r.a.createElement("rect",{x:"110",y:"7",rx:"0",ry:"0",width:"180",height:"7"}))};c.defaultProps={height:0,width:0},t.a=c},966:function(e,t,a){},967:function(e,t,a){e.exports=a.p+"images/Logo.31e15bfe.svg"},968:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=(a(966),a(967)),c=a.n(i),o=a(82);t.a=function(){return r.a.createElement("header",{className:"col-12 top-header"},r.a.createElement("div",{className:"logo text-center"},r.a.createElement("a",{href:o.g},r.a.createElement("img",{src:c.a,alt:"Aramis and Designer Fragrances"}))))}},997:function(e,t,a){e.exports=a.p+"images/menu.47371838.svg"},998:function(e,t,a){},999:function(e,t,a){e.exports=a.p+"images/up_arrow.d03601d9.svg"}}]);