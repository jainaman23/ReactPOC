(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1001:function(e,t,a){},1019:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a(114),i=a(115),s=a(118),c=a(116),o=a(117),l=a(131),u=a(1),d=a.n(u),p=a(152),h=a(949),m=a(929),g=a.n(m),y=a(151),f=a.n(y),b=a(119),v=Object(b.a)();var w={getStory:function(e,t,a){return function(t){t({type:"FETCH_STORY_DETAILS"}),f.a.get("/api/v1/story?_format=json&nid=".concat(e),v).then(function(e){t({type:"FETCH_STORY_DETAILS_SUCCESS",payload:e.data})}).catch(function(e){t({type:"FETCH_STORY_DETAILS_FAILURE",payload:e.response.data.message}),t({type:"ADD_ERROR",payload:e})})}}},E=a(959),S=a(82),O=a(962),L=a(969),T=a(266),D=(a(1001),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).resize=function(){window.outerHeight<window.outerWidth&&window.outerHeight<1200?a.setState({banner:!0}):a.setState({banner:!1})},a.state={story:e.story,nid:null,preview:0,banner:!1},a.getTrendingDetailsTemplate=a.getTrendingDetailsTemplate.bind(Object(l.a)(Object(l.a)(a))),a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.nid,t=g.a.parse(this.props.location.search),a=t.preview,r=t.language;a&&e&&this.setState({preview:a,nid:e}),this.props.getStory(e,a,r),window.addEventListener("resize",this.resize),window.addEventListener("load",this.resize)}},{key:"createMarkup",value:function(e){return{__html:e}}},{key:"getFormatDate",value:function(e){var t=[];t[0]="Jan",t[1]="Feb",t[2]="Mar",t[3]="Apr",t[4]="May",t[5]="Jun",t[6]="Jul",t[7]="Aug",t[8]="Sept",t[9]="Oct",t[10]="Nov",t[11]="Dec";var a=new Date(new Date(0).setUTCSeconds(e)),r=t[a.getMonth()],n=a.getDate(),i=a.getFullYear();return"".concat(r," ").concat(n,", ").concat(i)}},{key:"getTrendingDetailsTemplate",value:function(){var e=this.props,t=e.results,a=e.fetchingStory,r=t;if(e.fetchedStory){if(t&&0!==t.length)return d.a.createElement("div",{className:"story-details text-center"},d.a.createElement("div",{className:"story-content"},d.a.createElement(E.a,{defaultImage:S.a,src:r.imageLarge?r.imageLarge:S.a,imageLarge:r.imageLarge?r.imageLarge:S.a,type:this.state.banner?"featured":null}),d.a.createElement("div",{className:"heading carousel-caption"},0!==r.brand&&d.a.createElement("h3",{className:"brand-title"},this.context[r.brand]),d.a.createElement("h1",{className:"page-title",dangerouslySetInnerHTML:this.createMarkup(r.displayTitle)})),0!==r.published&&d.a.createElement("h3",{className:"brand-title"},this.getFormatDate(r.published))),d.a.createElement("div",{className:"story-body description"},d.a.createElement(h.a,{xs:12,dangerouslySetInnerHTML:this.createMarkup(r.body)})))}else if(a)return d.a.createElement(d.a.Fragment,null,d.a.createElement(O.a,{height:1920,width:1080}),d.a.createElement(L.a,null))}},{key:"render",value:function(){var e=this;return d.a.createElement(T.b,null,function(){return d.a.createElement("div",{className:"treding-details-wrapper"},e.getTrendingDetailsTemplate())})}}]),t}(u.Component));D.contextType=T.a;var I=Object(p.b)(function(e){var t=e.trendingDetails;return{story:t.story,fetchingStory:t.fetchingStory,fetchedStory:t.fetchedStory,fetchedStoryError:t.fetchedStoryError}},function(e){return{getStory:function(t,a,r){return e(w.getStory(t,a,r))}}},function(e,t,a){return Object(r.a)({},e,t,a,{results:e.story.results,sections:!1,countEnable:!0})})(D);t.default=I},959:function(e,t,a){"use strict";var r=a(114),n=a(115),i=a(118),s=a(116),c=a(117),o=a(1),l=a.n(o),u=a(8),d=a.n(u),p=a(265),h=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={src:e.src,alt:"",title:"",status:!1},a.Image=l.a.createRef(),a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentWillMount",value:function(){var e=this;if("IntersectionObserver"in window){var t=new IntersectionObserver(function(a,r){a.forEach(function(a){if(a.isIntersecting){var r=a.target;r.parentNode.classList.add("lazy-wrapper"),r.parentNode.classList.add("image-load"),""!==e.state.src&&(r.src=e.state.src),r.parentNode.style.height=a.target.height+"px",r.classList.remove("lazy"),r.classList.add("lazy-item"),r.parentNode.classList.remove("lazy-wrapper"),r.parentNode.classList.remove("image-load"),r.parentNode.style.height=null,t.unobserve(r)}})});this.Img=t}}},{key:"componentDidMount",value:function(){this.Img.observe(this.Image.current)}},{key:"render",value:function(){return l.a.createElement("picture",{className:d()({banner:"banner"===this.props.type},{featured:"featured"===this.props.type},{default:this.props.src===this.props.defaultImage},{completed:this.props.completed}),style:"lg"===Object(p.b)()&&"banner"===this.props.type||"featured"===this.props.type?{backgroundImage:"url(".concat(this.props.imageLarge,")")}:{}},this.props.imageLarge&&l.a.createElement("source",{media:"(min-width: 1081px)",srcSet:this.props.imageLarge}),this.props.imageMedium&&l.a.createElement("source",{media:"(min-width: 769px)",srcSet:this.props.imageMedium}),l.a.createElement("img",{className:"lazy lazy-image",src:this.props.defaultImage,alt:this.state.alt,ref:this.Image}))}}]),t}(o.Component);t.a=h},962:function(e,t,a){"use strict";var r=a(1),n=a.n(r),i=a(928),s=function(e){return n.a.createElement(i.a,{speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb",className:"row"},n.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:e.width,height:e.height}))};s.defaultProps={height:0,width:0},t.a=s},969:function(e,t,a){"use strict";var r=a(1),n=a.n(r),i=a(928),s=function(e){return n.a.createElement(i.a,{height:200,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},n.a.createElement("rect",{x:"170",y:"20",rx:"0",ry:"0",width:"70",height:"8"}),n.a.createElement("rect",{x:"0",y:"70",rx:"2",ry:"2",width:"300",height:"3"}),n.a.createElement("rect",{x:"0",y:"50",rx:"2",ry:"2",width:"250",height:"3"}),n.a.createElement("rect",{x:"0",y:"90",rx:"2",ry:"2",width:"200",height:"3"}))};s.defaultProps={height:0,width:0},t.a=s}}]);